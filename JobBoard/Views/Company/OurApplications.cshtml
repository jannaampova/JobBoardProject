@{
    Layout = null;
}
@using JobBoard.Models.ViewModels
@model JobBoard.Models.ViewModels.CompanyApplications

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jobby - Our Applications</title>
    <link rel="stylesheet" href="~/css/company/ourApplications.css" asp-append-version="true" />
</head>
<body style="font-family: 'Poppins', sans-serif;">

    @await Html.PartialAsync("~/Views/sidebarCompany.cshtml", new CompanyDashboardViewModel(){user = Model.user})
    <div class="main-content">
        <div class="page-header">
            <h1 class="section-title">Our Applications</h1>
        </div>

        <div class="filter-container">
            <button class="filter-button active">All</button>
            <button class="filter-button">Pending</button>
            <button class="filter-button">Accepted</button>
            <button class="filter-button">Rejected</button>
        </div>

        <div class="applications-table">
            <table>
                <thead>
                    <tr>
                        <th>Candidate</th>
                        <th>Position</th>
                        <th>Applied</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                @foreach(var app in Model.Applications)
                {
                    <tr>
                        <td>
                            <div class="candidate-info">
                                <div class="candidate-avatar">
                                    @app.Candidate.Account.Name
                                </div>
                            </div>
                        </td>
                        <td>@app.Listing.title</td>
                        <td>@app.AppliedAt.ToString("yyyy-MM-dd")</td>
                        <td><span class="status @(app.Status.ToString().ToLower())">@app.Status</span></td>
                        <td>
                            <a asp-controller="OurApplications" asp-action="ViewApplication" asp-route-id="@app.Id" class="action-button view-button">View</a>
                            <a asp-controller="OurApplications" asp-action="StatusChangeAccept" asp-route-id="@app.Id" class="action-button accept-button">Accept</a>
                            <a asp-controller="OurApplications" asp-action="StatusChangeDecline" asp-route-id="@app.Id" class="action-button reject-button">Reject</a>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</body>
</html> 